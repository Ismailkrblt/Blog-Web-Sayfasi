<!DOCTYPE html>
<html lang="zxx">
<head>
    <title>BlogWeb</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords" content="Weblog a Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);
        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
    <link href="css/single.css" rel='stylesheet' type='text/css' />
    <link href="css/style.css" rel='stylesheet' type='text/css' />
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#registerForm").submit(function (e) {
                e.preventDefault();
                var firstName = $("#validationDefault01").val();
                var lastName = $("#validationDefault02").val();
                var email = $("#email").val();
                var password = $("#password").val();
                var confirmPassword = $("#password2").val();

                if (password !== confirmPassword) {
                    alert("Passwords do not match!");
                    return;
                }

                $.ajax({
                    type: "POST",
                    url: "/api/Users/RegisterUser",
                    data: JSON.stringify({ FirstName: firstName, LastName: lastName, Email: email, Password: password }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        if (response && response.success) {
                            alert("Registration successful!");
                            window.location.href = "login.html"; // Kullanıcıyı login.html sayfasına yönlendir
                        }
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log("An error occurred while registering:", xhr.responseText);
                    }
                });
            });
        });
    </script>
</head>
<body>
    <header>
        <!-- Header content -->
    </header>
    <div class="banner-inner"></div>
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="index.html">Home</a>
        </li>
        <li class="breadcrumb-item active">Register</li>
    </ol>
    <section class="main-content-w3layouts-agileits">
        <div class="container">
            <h3 class="tittle">Register Now</h3>
            <div class="inner-sec">
                <div class="login p-5 bg-light mx-auto mw-100">
                    <form id="registerForm" method="post">
                        <div class="form-row">
                            <div class="col-md-6 mb-3">
                                <label for="validationDefault01">First name</label>
                                <input type="text" class="form-control" id="validationDefault01" placeholder="First Name" required="">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="validationDefault02">Last name</label>
                                <input type="text" class="form-control" id="validationDefault02" placeholder="Last Name" required="">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="email">E-Mail</label>
                                <input type="email" class="form-control" id="email" placeholder="E-Mail" required="">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="password">Password</label>
                                <input type="password" class="form-control" id="password" placeholder="Password" required="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="password2">Confirm Password</label>
                            <input type="password" class="form-control" id="password2" placeholder="Confirm Password" required="">
                        </div>
                        <button type="submit" class="btn btn-primary submit mb-4">Register</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.getElementById("registerForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the form from submitting normally

            // Display success message
            alert("Kayıt Başarıyla Oluşturuldu");

            // Redirect to login.html
            window.location.href = "login.html";
        });
    </script>

    <footer>
        <!-- Footer content -->
    </footer>
    <script src="bootstrap.js"></script>
</body>
</html>
